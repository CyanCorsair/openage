
for each thing in ast.get("UNIT"):
	if thing == DEF:
		create new unit from thing
	if thing == MOD:
		unit[thing.name].modify(thing)

Unit::Unit(ASTThing Def) {
	for functor in Def.changes:
		functor(*this)
}

Unit::modify(ASTThing Def) {
	for functor in Def.changes:
		functor(*this)
}
